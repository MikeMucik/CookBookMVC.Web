@model CookBookMVC.Application.ViewModels.Recipe.TimeForListVm

<div class="form-group">
    <label asp-for="Id" class="control-label"></label>
    <select asp-for="Id" class="form-control" id="time-dropdown">
        <option value="">Select existing time</option>
        @foreach (var time in ViewBag.Times)
        {
            <option value="@time.Value">@time.Text</option>
        }
    </select>
    <span asp-validation-for="Id" class="text-danger"></span>
</div>

<!-- Input fields for entering new time values, initially hidden -->
<div class="form-group" id="new-time-fields" style="display: none;">
    <label asp-for="Amount" class="control-label">Amount:</label>
    <input asp-for="Amount" class="form-control" />
    <span asp-validation-for="Amount" class="text-danger"></span>

    <label asp-for="Unit" class="control-label">Unit:</label>
    <input asp-for="Unit" class="form-control" />
    <span asp-validation-for="Unit" class="text-danger"></span>
</div>

<!-- Button to toggle the visibility of new time input fields -->
<button type="button" class="btn btn-primary" id="show-new-time-fields">Add New Time</button>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Show or hide the new time input fields based on the dropdown selection
            $("#time-dropdown").change(function () {
                if ($(this).val() === "") {
                    $("#new-time-fields").show();
                } else {
                    $("#new-time-fields").hide();
                }
            });

            // Toggle the visibility of the new time input fields when the button is clicked
            $("#show-new-time-fields").click(function () {
                $("#new-time-fields").toggle();
            });
        });
    </script>
}
